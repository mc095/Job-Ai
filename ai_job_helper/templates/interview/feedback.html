{% extends "base.html" %}
{% load static %}

{% block title %}Interview Feedback{% endblock %}

{% block content %}
<div class="min-h-screen bg-gradient-to-br from-green-50 via-emerald-50 to-teal-50 py-12">
    <div class="max-w-4xl mx-auto px-4">
        
        <!-- Header -->
        <div class="text-center mb-12">
            <div class="inline-flex items-center justify-center w-20 h-20 bg-gradient-to-br from-green-500 to-emerald-600 rounded-2xl shadow-xl mb-6">
                <i class="fas fa-trophy text-white text-3xl"></i>
            </div>
            <h1 class="text-4xl font-bold text-gray-900 mb-4">Interview Feedback</h1>
            <p class="text-lg text-gray-600">Detailed analysis of your performance</p>
        </div>

        <!-- Feedback Content -->
        <div class="bg-white rounded-3xl shadow-2xl p-8 md:p-12 mb-8">
            <div id="feedbackContent" class="prose prose-lg max-w-none text-gray-700 leading-relaxed"></div>
        </div>
        
        <script>
            // Parse and render markdown for feedback
            document.addEventListener('DOMContentLoaded', function() {
                const rawFeedback = `{{ feedback|escapejs }}`;
                const container = document.getElementById('feedbackContent');
                if (container && rawFeedback) {
                    container.innerHTML = parseMarkdown(rawFeedback);
                }
            });
        </script>

        <!-- Action Buttons -->
        <div class="flex gap-4 justify-center">
            <a href="{% url 'interview_home' %}" 
               class="px-8 py-4 bg-gradient-to-r from-indigo-600 to-purple-600 text-white font-bold rounded-xl shadow-lg hover:shadow-xl transform hover:-translate-y-0.5 transition-all">
                <i class="fas fa-redo mr-2"></i>
                Start New Interview
            </a>
            <button onclick="window.print()" 
                    class="px-8 py-4 bg-gray-600 text-white font-bold rounded-xl shadow-lg hover:shadow-xl transform hover:-translate-y-0.5 transition-all">
                <i class="fas fa-print mr-2"></i>
                Print Feedback
            </button>
        </div>

    </div>
</div>

<style>
@media print {
    .no-print {
        display: none;
    }
}
</style>
{% endblock %}
